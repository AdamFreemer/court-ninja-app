<% @players = current_user.teams_coached.map(&:players).flatten %>
<div class="flex-1">
  <div class="flex justify-between items-center border-b-2 pb-2">
    <h2 class="font-bold text-3xl">My Players</h2>
    <%# if current_user.teams_coached.count > 0 %>
      <%#= link_to 'Add Player', new_tournament_path, class: "inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" %>
    <%# end %>
  </div>
  <% if current_user.teams_coached.count == 0 %>
    <div class="shadow overflow-hidden bg-gray-50 py-10 text-center rounded-sm">
      You have no players. Click "Add Team" above to add your team before you can begin to add players.
    </div>
  <% elsif @players.count == 0 %>
    <div class="shadow overflow-hidden bg-gray-50 py-10 text-center rounded-sm">
      You have no players. Provide them with your teams invite code to join when signing up.
    </div>
  <% else %>
    <%= render "coaches/players/table" %>
  <% end %>
</div>